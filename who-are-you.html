<!DOCTYPE html>
<!-- This is the DOCTYPE declaration. It‚Äôs like a signal to browsers that says, "Hey, this is an HTML web page!"-->

<html lang="en">
<!-- Sets the page language to English - helps screen readers, search engines, and spell checkers. -->

    <!-- Begin Head Section ------------------------------------------------->
    <head>
    <!-- Head contains "behind-the-scenes" stuff that defines how the page works and looks. -->

        <meta charset="UTF-8">
        <!-- Character encoding tells browser how to decode the page. -->

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Viewport makes sure the page looks good on all devices by adjusting to screen size.
        It also affects page rendering and responsiveness. -->

        <link rel="canonical" href="https://torischuyler.github.io/eOS/who-are-you">
        <!-- Canonical URL: Specifies the preferred version of this page for search engines to index,
        preventing duplicate content issues. -->

        <meta http-equiv="Content-Security-Policy" content="default-src 'self'; 
        connect-src 'self' https://ipapi.co https://cdn.jsdelivr.net;
        script-src 'self' https://pyscript.net https://cdn.jsdelivr.net 'unsafe-eval';
        style-src 'self' https://fonts.googleapis.com https://pyscript.net;
        font-src 'self' https://fonts.gstatic.com; img-src 'self' data:;">
        <!-- Content Security Policy: Restricts resource loading to same-origin only, preventing XSS attacks

        <title>Who Are You? | eOS Experiments</title>
        <!-- Page title, visible in browser tabs, bookmarks, and search engine results.
        Format: [Page Name] | [Site Name] - this pattern helps with SEO and page navigation. -->

        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <!-- Sets the favicon, the little icon you see in browser tabs and bookmarks. -->

        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
        <!-- Adds Apple touch icon for iOS devices to display favicon -->

        <!-- Begin Preconnect Links  ------------------------------------------------->
        <!-- Preconnect hints establish early connections to external domains, speeding up resource loading. -->

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <!-- 'crossorigin' on fonts.gstatic.com enables secure cross-origin font file loading; not needed for
        fonts.googleapis.com, which only initiates connections. -->
        <!-- End Preconnect Links  --------------------------------------------------->

        <!-- Begin Stylesheet Links  ------------------------------------------------->
        <!-- Stylesheets define how the browser styles HTML content, improving page appearance. -->

        <link rel="stylesheet" href="css/global.css">
        <link rel="stylesheet" href="css/who-are-you.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Righteous&family=Space+Grotesk:wght@300;400;500;600;700&display=swap">
        <!-- Load local stylesheets first for speed and to prevent overrides by third-party CSS (e.g., Google Fonts). -->
        <!-- End Stylesheet Links  --------------------------------------------------->

        <!-- Begin Python  ----------------------------------->
        <!-- Adding PyScript so visitors can download their meme quiz results client-side. -->

        <link rel="stylesheet" href="https://pyscript.net/releases/2025.3.1/core.css"/>
        <!-- PyScript CSS for running Python in the browser -->

        <script defer type="module" src="https://pyscript.net/releases/2025.3.1/core.js"></script>
        <!-- PyScript JS for running Python in the browser -->
        <!-- End Python  ------------------------------------->

        <script src="js/toggles/angel-devil-toggle.js" defer></script>
        <!-- Script for toggling Dark/Light mode - placed last for better page load performance and security.
        'defer' tells the browser to load the script after the HTML is parsed but before
        the DOMContentLoaded event, improving page load times. -->

        <script src="js/mobile-nav.js" defer></script>
        <!-- Script for toggling mobile navigation ---------->

        <script src="js/location.js" defer></script>
        <!-- Script for determining visitor's location ------>

        <script src="js/device-info.js" defer></script>
        <!-- Script for determining visitor's device -------->

        <script src="js/time.js" defer></script>
        <!-- Script for determining visitor's time zone ----->

        <script src="js/browser.js" defer></script>
        <!-- Script for determining visitor's browser ------->

        <script src="js/meme-quiz.js" defer></script>
        <!-- Script for meme quiz --------------------------->
    </head>
    <!-- End Head Section --------------------------------------------------->

    <!-- Begin Body Section ------------------------------------------------->
    <body>
    <!-- Body contains all the visible content of the webpage, like text, images, and buttons - the "on-stage" part where the action happens. -->

        <!-- Begin Navigation Section  ------------------------------------------------->
        <nav aria-label="Page navigation">
        <!-- Navigation section - like a table of contents for the webpage. -->

            <!-- Navigation menu for desktop and mobile -->
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="curricula.html">Lesson Plans</a></li>
                <li><a href="who-are-you.html" class="active" aria-current="page">Who Are You?</a></li>
                <li><a href="today-i-learned.html">TIL</a></li>
                <li><a href="who-am-i.html">whoami</a></li>
            </ul>

            <!-- Begin Nav Header Wrapper: Groups hamburger and toggle ------------------>
            <div class="nav-header">

                <div class="hamburger">‚ò∞</div>
                <!-- Hamburger icon -->

                <button id="angel-devil-toggle"></button>
                <!-- Light/dark mode toggle -->

            </div>
            <!-- End Nav Header Wrapper ------------------------------------------------->
        </nav>
        <!-- End Navigation Section  ---------------------------------------------------->

        <!-- Begin .who-are-you-container ----------------------------------------------->
        <div class="who-are-you-container">

            <!-- Begin Main Section -------------------------------------------------------->
            <main>
            <!-- Main content area - where the primary, unique content of the page lives. -->

              <noscript>
                  <!-- The noscript tag is used to provide alternative content when JavaScript is disabled in the visitor's browser. -->

                  <div class="noscript-warning">
                  <!-- This div serves as a container for the warning message. -->

                      <p>JavaScript is disabled on your browser. To experience all features of this site, please enable JavaScript.</p>
                  </div>
              </noscript>

                <h1>Who Are You?</h1>
                
                <h2>Let me gaze into my orb...</h2>

                <ul>
                    <li id="location">üîÆ I see you hailing from: <span id="location-details">loading...</span></li>
                    <br>
                    <li id="device-info">Your device whispers: [Loading...]</li>
                    <br>
                    <li id="time">üîÆ The sands of time say you arrived at: <span id="time-details">[Loading...]</span></li>
                    <br>
                    <li id="browser">The winds of the web carried you here via [Loading...]</li>
                </ul>
                <br>
                <p>
                  ‚ö†Ô∏è Many websites quietly gather details like your location, device, and time zone when you visit,
                  just something to be aware of! <strong>I care about privacy and am not tracking or storing anything here.</strong>
                </p>
                <br>

                <h2>Your Meme Language</h2>
                <p>
                  Take the quiz below to find out your meme language:
                </p>
                <br>
                <!-- Begin Quiz Wrapper ---------------------------------------------------->
                <div class="quiz-wrapper" id="meme-quiz">
                  <div class="question active" id="q1">
                  <!-- Defines the container for the first quiz question, set as active. -->

                    <p><strong>1: What's your go-to reaction when something mildly annoying happens?</strong></p>
                    <!-- Displays the bolded text for the first quiz question. -->

                    <select name="q1">
                    <!-- Creates the dropdown menu for question 1 answers -->

                      <option value="" disabled selected>Select your reaction...</option>
                      <!-- Sets a disabled placeholder as the default dropdown option. -->

                      <option value="mystical" data-category="mystical">Cast an imaginary spell to banish the annoyance to another realm.</option>
                      <!-- Adds the answer option with its category for scoring and cursor. -->

                      <option value="cute" data-category="cute">Send a picture of a puppy cuddling a kitten to make it all better.</option>
                      <option value="savage" data-category="savage">Mutter a sarcastic ‚Äúwell, guess I'll just die then‚Äù under your breath.</option>
                      <option value="tech" data-category="tech">Blame it on a glitch in the matrix.</option>
                      <option value="renegade" data-category="renegade">Flip the table and walk away like a boss.</option>
                    </select>
                    <button class="next-btn">Next</button>
                    <!-- Button to navigate to the next question -->
                  </div>

                  <div class="question" id="q2">
                    <p><strong>2: How do you celebrate a small win, like finding $20 in your Venmo account?</strong></p>
                    <select name="q2">
                      <option value="" disabled selected>Select your celebration...</option>
                      <option value="mystical" data-category="mystical">Pretend you've just unlocked a secret level of existence and strike a mystical pose.</option>
                      <option value="cute" data-category="cute">Post a gif of a baby panda doing a somersault because it's too adorable not to share.</option>
                      <option value="savage" data-category="savage">Smirk and say ‚Äúfinally, the world pays its debts‚Äù like a brooding antihero.</option>
                      <option value="tech" data-category="tech">Declare your bank app must've lagged and accidentally blessed you.</option>
                      <option value="renegade" data-category="renegade">Channel your inner entrepreneur and declare ‚ÄúThis $20 is my seed money.‚Äù</option>
                    </select>
                    <button class="next-btn">Next</button>
                    <button class="back-btn">Back</button>
                    <!-- Button to navigate back a question -->
                  </div>

                  <div class="question" id="q3">
                    <p><strong>3: What do you do when you're putting off something you know you <i>should</i> be working on?</strong></p>
                    <select name="q3">
                      <option value="" disabled selected>Select your procrastination style...</option>
                      <option value="mystical" data-category="mystical">Stare into the void and imagine you're consulting an ancient oracle for excuses.</option>
                      <option value="cute" data-category="cute">Scroll through videos of otters holding hands to soothe your soul.</option>
                      <option value="savage" data-category="savage">Mutter ‚Äúdeadlines are just society's way of punishing us‚Äù and keep scrolling.</option>
                      <option value="tech" data-category="tech">Convince yourself the Wi-Fi's too slow to start anyway and blame Starlink satellites.</option>
                      <option value="renegade" data-category="renegade">Mysteriously disappear into the woods and call it freedom.</option>
                    </select>
                    <button class="next-btn">Next</button>
                    <button class="back-btn">Back</button>
                  </div>

                  <div class="question" id="q4">
                    <p><strong>4: What's your move when someone sends you a boring text?</strong></p>
                    <select name="q4">
                      <option value="" disabled selected>Select your response move...</option>
                      <option value="mystical" data-category="mystical">Reply with a cryptic rune emoji and let them figure out your arcane mood.</option>
                      <option value="cute" data-category="cute">Send back a sticker of a cartoon sloth napping on a rainbow.</option>
                      <option value="savage" data-category="savage">Type ‚Äúwow, thrilling stuff, I'm on the edge of my coffin‚Äù and hit send.</option>
                      <option value="tech" data-category="tech">Send a gif of a robot short-circuiting because their text fried your circuits.</option>
                      <option value="renegade" data-category="renegade">Hit 'em with a GIF that says ‚ÄúYawn‚Äù and ghost the convo.</option>
                    </select>
                    <button class="next-btn">Next</button>
                    <button class="back-btn">Back</button>
                  </div>

                  <div class="question" id="q5">
                    <p><strong>5: How do you handle a random burst of energy at 2 a.m.?</strong></p>
                    <select name="q5">
                      <option value="" disabled selected>Select your 2 a.m. energy move...</option>
                      <option value="mystical" data-category="mystical">Channel it into a midnight ritual to summon inspiration from the cosmos.</option>
                      <option value="cute" data-category="cute">Decide it's the perfect time to watch baby monkey videos.</option>
                      <option value="savage" data-category="savage">Cackle and declare ‚Äúsleep is for the weak‚Äù while plotting world domination.</option>
                      <option value="tech" data-category="tech">Crack open your laptop to debug your life like it's a coding error.</option>
                      <option value="renegade" data-category="renegade">Start a revolution.</option>
                    </select>
                    <button class="back-btn">Back</button>
                    <button class="submit-btn">Submit</button>
                    <!-- Button to submit answers and receive score -->
                  </div>
                </div>
                <!-- End Quiz Wrapper ------------------------------------------------------>

                <py-script src="python/save_scores.py"></py-script>
                <!-- PyScript to generate CSV -->
            </main>
            <!-- End Main Section ---------------------------------------------------------->
        </div>
        <!-- End .who-are-you-container ---------------------------------------------------->

        <!-- Begin Footer Section ------------------------------------------------------>
        <footer>
        <!-- Footer content, like copyright info, contact details, or additional links. -->

            <p>
                <span id="year"></span>
                <!-- span highlights year, which is updated by the script in footer.js -->
                eOS Experiments <span class="heart"></span> For Education
            </p>
        </footer>

        <script src="js/footer.js"></script>
        <!-- Footer script: Automatically updates the copyright year. -->
        <!-- End Footer Section ------------------------------------------------------>

        <div id="mobile-emoji-pop"></div>
        <!-- Container for the mobile emoji pop-up effect -->
    </body>
    <!-- End Body Section ------------------------------------------------->
</html>
